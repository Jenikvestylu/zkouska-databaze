{
  "_description": "API schéma pro GraphApp - sdílené mezi backendem a frontendem",
  
  "endpoints": {
    "configuration": "/api/configuration",
    "status": "/api/status", 
    "measurements": "/api/measurements"
  },

  "ConfigurationResponse": {
    "MinVoltage": "number",
    "MaxVoltage": "number", 
    "MinCurrent": "number",
    "MaxCurrent": "number",
    "Polarity": "unipolar | bipolar",
    "MeasurementValues": "both | voltage | current",
    "BufferSize": "number"
  },

  "StatusResponse": {
    "UsedPolarity": "unipolar | bipolar",
    "NewDataReady": "boolean"
  },

  "MeasurementDataResponse": {
    "measuredStorage": "Array<MeasurementItem>"
  },

  "MeasurementItem": {
    "id": "number",
    "timestamp": "ISO string",
    "measuredValues": "Array<MeasuredValue>"
  },

  "MeasuredValue": {
    "posVoltage": "number | null",
    "posCurrent": "number | null", 
    "negVoltage": "number | null",
    "negCurrent": "number | null"
  },

  "examples": {
    "unipolar_voltage_only": {
      "configuration": {
        "Polarity": "unipolar",
        "MeasurementValues": "voltage"
      },
      "expected_values": {
        "posVoltage": "number",
        "posCurrent": null,
        "negVoltage": null,
        "negCurrent": null
      }
    },
    
    "bipolar_current_only": {
      "configuration": {
        "Polarity": "bipolar", 
        "MeasurementValues": "current"
      },
      "expected_values": {
        "posVoltage": null,
        "posCurrent": "number",
        "negVoltage": null,
        "negCurrent": "number"
      }
    },

    "bipolar_both": {
      "configuration": {
        "Polarity": "bipolar",
        "MeasurementValues": "both"
      },
      "expected_values": {
        "posVoltage": "number",
        "posCurrent": "number", 
        "negVoltage": "number",
        "negCurrent": "number"
      }
    }
  },

  "validation_rules": {
    "polarity_values": ["unipolar", "bipolar"],
    "measurement_values": ["both", "voltage", "current"],
    "null_rules": {
      "unipolar": "negVoltage a negCurrent vždy null",
      "voltage_only": "posCurrent a negCurrent vždy null", 
      "current_only": "posVoltage a negVoltage vždy null"
    }
  }
}